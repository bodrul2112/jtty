
apply plugin: 'base'
apply plugin: 'java'
apply plugin: 'eclipse'

repositories {
    mavenCentral()
}

configurations {
    provided.all*.exclude group: 'javax.servlet'
}

dependencies {
    compile group: 'org.eclipse.jetty', name: 'jetty-webapp', version: '8.0.0.M1'
    compile group: 'org.apache.tomcat', name: 'jasper', version: '6.0.20'
    compile group: 'org.apache.tomcat', name: 'catalina'
    compile group: 'org.apache.tomcat', name: 'servlet-api'
}

jar {
  from configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
  manifest { attributes 'Main-Class': 'com.github.stephenh.Jtty' }
}